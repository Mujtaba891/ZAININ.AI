/* --- Variables --- */
:root {
    /* Dark Theme (Default) */
    --primary-color: #0d1137; /* Background */
    --secondary-color: #1a1f40; /* Surfaces, sidebar */
    --accent-color-start: #4a90e2; /* Blue gradient start */
    --accent-color-end: #a05fff;   /* Purple gradient end */
    --text-color: #ffffff; /* Main text */
    --muted-text-color: #cccccc; /* Secondary text, icons */
    --border-color: #3a4060; /* Borders, dividers */
    --input-bg: #1a1f40; /* Input fields */
    --chat-user-bg: #3a4060; /* User message bubble */
    --chat-bot-bg: linear-gradient(to right, var(--accent-color-start), var(--accent-color-end)); /* Bot message bubble */
    --button-bg: linear-gradient(to right, var(--accent-color-start), var(--accent-color-end)); /* Primary button */
    --button-color: var(--text-color); /* Primary button text */
    --link-color: var(--accent-color-start); /* Links */

    --success-color: #4CAF50; /* Success messages/indicators */
    --error-color: #f44336; /* Error messages/indicators */
    --warning-color: #ff9800; /* Warning messages */

    --scrollbar-thumb: #3a4060; /* Scrollbar thumb */
    --scrollbar-track: #1a1f40; /* Scrollbar track */

    /* Define RGBA for gradients/transparency if needed */
    --accent-color-start-rgb: 74, 144, 226; /* For rgba backgrounds */
}

/* --- Light Theme Overrides --- */
body[data-theme="light"] {
    --primary-color: #f0f2f5; /* Lighter background */
    --secondary-color: #ffffff; /* White surfaces, sidebar */
    /* Keep accent colors for buttons/gradients */
    --text-color: #333333; /* Darker text */
    --muted-text-color: #666666; /* Lighter secondary text */
    --border-color: #dddddd; /* Lighter borders */
    --input-bg: #eeeeee; /* Lighter input fields */
    --chat-user-bg: #e2e6ea; /* Light grey user bubble */
    --chat-bot-bg: #007bff; /* Solid blue bot bubble */
    --button-bg: #007bff; /* Solid blue button */
    --button-color: #ffffff; /* White button text */
    --link-color: #007bff; /* Blue links */

    --scrollbar-thumb: #aaaaaa; /* Lighter scrollbar thumb */
    --scrollbar-track: #eeeeee; /* Lighter scrollbar track */

     /* No need for RGBA if using solid colors for light theme surfaces */
}

/* --- Global Styles --- */
* {
    box-sizing: border-box;
}

body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--primary-color);
    color: var(--text-color);
    line-height: 1.6;
    transition: background-color 0.3s ease, color 0.3s ease;
    overflow-y: auto;
    min-height: 100vh; /* Ensure body takes at least full viewport height */
}

h1, h2, h3 {
    color: var(--text-color);
    margin-top: 0;
    font-weight: 600;
}

a {
    color: var(--link-color);
    text-decoration: none;
    transition: color 0.3s ease;
}

a:hover {
    text-decoration: underline;
    color: var(--accent-color-end); /* Or link-color for light theme */
     body[data-theme="light"] &:hover { /* Specific hover for light theme links */
         color: #0056b3;
     }
}

button {
    background: var(--button-bg);
    color: var(--button-color);
    border: none;
    padding: 12px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1em;
    transition: opacity 0.3s ease, background 0.3s ease;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-weight: 500;
}

button:hover {
    opacity: 0.9;
     body[data-theme="light"] &:hover { /* Slightly different hover for light theme */
         background-color: #0056b3;
         opacity: 1;
     }
}

button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.icon-button {
    background: none;
    border: none;
    color: var(--muted-text-color);
    padding: 5px;
    font-size: 1.2em;
    cursor: pointer;
    transition: color 0.3s ease;
}

.icon-button:hover {
    color: var(--text-color);
}

input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"], /* Added for admin panel */
textarea {
    background-color: var(--input-bg);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    padding: 12px;
    border-radius: 8px;
    font-size: 1em;
    width: 100%;
    box-sizing: border-box;
    transition: border-color 0.3s ease, background-color 0.3s ease;
    font-family: 'Poppins', sans-serif; /* Ensure font is applied */
}

input:focus, textarea:focus {
    outline: none;
    border-color: var(--accent-color-start);
     body[data-theme="light"] & { /* Specific focus for light theme */
         border-color: #007bff;
     }
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: var(--text-color);
}

.help-text {
    font-size: 0.9em;
    color: var(--muted-text-color);
    margin-top: 5px;
}

.message-text {
    margin-top: 15px;
    text-align: center;
    font-size: 0.9em;
}

.error-message {
    color: var(--error-color);
}

.success-message {
    color: var(--success-color);
}

.warning-message {
     color: var(--warning-color);
}

.divider {
    text-align: center;
    margin: 20px 0;
    color: var(--muted-text-color);
    position: relative;
    font-size: 0.9em;
}

.divider::before,
.divider::after {
    content: '';
    position: absolute;
    top: 50%;
    width: 40%;
    height: 1px;
    background-color: var(--border-color);
}

.divider::before {
    left: 0;
}

.divider::after {
    right: 0;
}

/* Utility Classes */
.hidden { display: none !important; }
.visible { display: flex !important; /* Use flex for centering */ }
.muted-text { color: var(--muted-text-color); }


/* Scrollbar Styling */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: var(--scrollbar-track);
}

::-webkit-scrollbar-thumb {
    background: var(--scrollbar-thumb);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--border-color);
}

/* Firefox scrollbar (basic) */
* {
    scrollbar-width: thin;
    scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}


/* --- Authentication Page --- */
#auth-container {
    align-items: center;
    justify-content: center;
    min-height: 100vh; /* Ensure it covers full height when visible */
    padding: 20px;
    box-sizing: border-box;
}

.auth-box {
    background-color: var(--secondary-color);
    padding: 40px;
    border-radius: 12px;
    width: 100%;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
     body[data-theme="light"] & { /* Light theme styles */
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
     }
}

.auth-box h1 {
    margin-bottom: 10px;
    font-size: 1.8em;
}
.auth-box p {
    margin-bottom: 30px;
    color: var(--muted-text-color);
    font-size: 1em; /* Ensure consistent font size */
}

#auth-forms input {
    margin-bottom: 15px;
}

#auth-forms button {
    width: 100%;
    margin-bottom: 10px;
}

#google-signin-btn {
    background-color: #4285f4;
    color: white;
    padding: 12px 20px;
    border-radius: 8px;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
     body[data-theme="light"] & { /* Ensure color consistency in light theme */
         background-color: #4285f4;
         color: white;
     }
}
#google-signin-btn:hover {
     background-color: #357ae8;
     opacity: 1;
}
#google-signin-btn i {
    font-size: 1.2em;
}


/* --- Main App Layout (index.html) --- */
#main-app {
    display: flex;
    min-height: 100vh;
    width: 100%; /* Ensure it takes full width */
    transition: margin-left 0.3s ease; /* For sidebar toggle */
}

#sidebar {
    width: 280px;
    background-color: var(--secondary-color);
    color: var(--text-color);
    padding: 20px;
    box-sizing: border-box;
    position: fixed; /* Fixed position for overlay effect */
    top: 0;
    left: 0;
    height: 100%;
    display: flex;
    flex-direction: column;
    transform: translateX(-280px); /* Hidden by default */
    transition: transform 0.3s ease;
    z-index: 1000; /* Above main content */
    box-shadow: 4px 0 8px rgba(0, 0, 0, 0.2);
     body[data-theme="light"] & { /* Light theme styles */
         box-shadow: 2px 0 4px rgba(0, 0, 0, 0.1);
     }
}

#sidebar.active {
    transform: translateX(0); /* Slide in */
}

.sidebar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.sidebar-header h2 {
    margin: 0;
    font-size: 1.4em;
    font-weight: 600;
}

#sidebar-close-btn {
    background: none;
    border: none;
    color: var(--muted-text-color);
    font-size: 1.5em;
    cursor: pointer;
    padding: 5px;
}
#sidebar-close-btn:hover {
    color: var(--text-color);
}

#new-chat-btn {
    width: 100%;
    margin-bottom: 20px;
}

.chat-history {
    flex-grow: 1;
    overflow-y: auto; /* Enable scrolling */
    padding-right: 5px; /* Space for scrollbar */
}
.chat-history h3 {
    margin-bottom: 10px;
    font-size: 1.1em;
    font-weight: 500;
    color: var(--text-color);
}

#chat-history-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

/* Style for each chat history item */
#chat-history-list li {
    margin-bottom: 10px;
    display: flex; /* Use flex to align link and actions */
    align-items: center;
    position: relative; /* Needed for positioning actions */
    border-radius: 6px; /* Match link border-radius */
     /* Background for the list item itself on hover */
     transition: background-color 0.3s ease;
     &:hover {
          background-color: rgba(var(--accent-color-start-rgb, 74, 144, 226), 0.1); /* Subtle background on hover */
     }

     /* Hide actions by default */
     .chat-history-item-actions {
         display: none;
     }

     /* Show actions on hover over the list item */
     &:hover .chat-history-item-actions {
         display: flex; /* Show icons */
     }
}


#chat-history-list li a { /* ... existing link styles ... */
    display: block;
    padding: 10px;
    color: var(--muted-text-color);
    border-radius: 6px;
    transition: color 0.3s ease; /* Only transition color */
    flex-grow: 1; /* Allow link to take available space */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    font-size: 0.95em;
     i { margin-right: 8px; color: var(--muted-text-color); transition: color 0.3s ease; }
}

/* Active chat link */
#chat-history-list li a.active {
    color: var(--text-color);
     background-color: rgba(var(--accent-color-start-rgb, 74, 144, 226), 0.2); /* Highlight background */
    font-weight: 500;
}
#chat-history-list li a.active i {
     color: var(--text-color);
}


.chat-history-item-actions {
    margin-left: 5px;
    background-color: var(--border-color); /* Background for action icons */
    border-radius: 4px;
    gap: 2px; /* Small gap between buttons */
}
.chat-history-item-actions .icon-button {
    padding: 5px; /* Smaller padding for sidebar icons */
    font-size: 0.9em;
    color: var(--text-color);
}
.chat-history-item-actions .icon-button:hover {
    color: var(--accent-color-start);
}
.chat-history-item-actions .icon-button.delete-chat-btn:hover {
     color: var(--error-color);
}


.sidebar-footer {
    padding-top: 20px;
    border-top: 1px solid var(--border-color);
}

.sidebar-footer .settings,
.sidebar-footer .other-links {
    margin-bottom: 20px;
}

.sidebar-footer .setting-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    font-size: 0.95em;
}
.sidebar-footer .setting-item i {
     margin-right: 8px;
     color: var(--muted-text-color);
}
.sidebar-footer .setting-item label {
    display: flex;
    align-items: center;
    color: var(--muted-text-color);
}
.sidebar-footer .settings-link {
    display: flex;
    align-items: center;
    padding: 8px 0;
    color: var(--muted-text-color);
     transition: color 0.3s ease;
}
.sidebar-footer .settings-link i {
     margin-right: 8px;
      color: var(--muted-text-color);
     transition: color 0.3s ease;
}
.sidebar-footer .settings-link:hover {
    color: var(--text-color);
    text-decoration: none;
}
.sidebar-footer .settings-link:hover i {
    color: var(--text-color);
}

/* New: Upgrade to Premium link in sidebar */
#upgrade-to-premium-sidebar-link {
    margin-top: 10px;
    background: linear-gradient(to right, #00c6ff, #0072ff); /* Bright gradient */
    padding: 10px;
    border-radius: 8px;
    color: white;
    text-align: center;
    font-weight: 500;
    display: flex; /* Ensure flex for icon */
    align-items: center;
    justify-content: center;
     i { margin-right: 8px; color: white; }
     &:hover {
         opacity: 0.9;
         text-decoration: none;
     }
}


/* Custom Switch for Toggle Settings */
.switch {
  position: relative;
  display: inline-block;
  width: 40px;
  height: 20px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--border-color);
  transition: .4s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 14px;
  width: 14px;
  left: 3px;
  bottom: 3px;
  background-color: var(--text-color);
  transition: .4s;
}

input:checked + .slider {
  background-color: var(--accent-color-start);
}

input:focus + .slider {
  box-shadow: 0 0 1px var(--accent-color-start);
}

input:checked + .slider:before {
  transform: translateX(20px);
}

/* Rounded sliders */
.slider.round {
  border-radius: 20px;
}

.slider.round:before {
  border-radius: 50%;
}


.user-profile {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.9em;
    color: var(--muted-text-color);
    border-top: 1px solid var(--border-color);
    padding-top: 15px;
}

#user-email {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    flex-grow: 1;
    margin-right: 10px;
}

#logout-btn {
    background: none;
    border: none;
    color: var(--muted-text-color);
    font-size: 1.2em;
    cursor: pointer;
    padding: 5px;
}
#logout-btn:hover {
    color: var(--error-color);
}


/* Chat Area */
#chat-container {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    /* Initial state - margin is adjusted by script based on sidebar active state */
    margin-left: 0;
    transition: margin-left 0.3s ease;
    width: 100%; /* Take full width when sidebar is closed */
}

#main-app.sidebar-active #chat-container {
    /* Adjust margin and width when sidebar is active */
    margin-left: 280px;
    width: calc(100% - 280px);
}

#chat-header {
    display: flex;
    align-items: center;
    padding: 15px 20px;
    background-color: var(--secondary-color);
    border-bottom: 1px solid var(--border-color);
    position: sticky;
    top: 0;
    z-index: 999; /* Above chat messages */
     body[data-theme="light"] & { /* Light theme styles */
         box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
     }
}

#sidebar-toggle-btn {
    background: none;
    border: none;
    color: var(--text-color);
    font-size: 1.5em;
    cursor: pointer;
    padding: 5px;
    margin-right: 15px;
}

#chat-header h1 {
    margin: 0;
    font-size: 1.3em;
    flex-grow: 1; /* Allow title to take space */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    font-weight: 600;
}

#chat-messages {
    flex-grow: 1;
    padding: 20px;
    overflow-y: auto; /* Enable scrolling */
    display: flex;
    flex-direction: column;
    gap: 20px; /* Space between messages */
    /* min-height adjusted in JS to fit header/footer */
    position: relative; /* Needed for absolute positioning of message actions */
     /* Ensure padding for actions at the bottom */
     padding-bottom: 40px;
}

/* Individual Message */
.chat-message {
    display: flex;
    align-items: flex-start;
    max-width: 95%; /* Increased max-width slightly */
    position: relative; /* Needed for absolute positioning of actions */
}

/* Avatars */
.chat-message .avatar {
     width: 35px; /* Slightly larger avatar */
     height: 35px;
     border-radius: 50%;
     margin-right: 12px; /* Space between avatar and bubble (bot) */
     margin-left: 12px; /* Space between avatar and bubble (user) */
     flex-shrink: 0; /* Don't shrink avatar */
     background-color: var(--border-color); /* Default/fallback background */
     display: flex;
     align-items: center;
     justify-content: center;
     font-size: 1.3em; /* Icon size */
     color: var(--text-color); /* Changed from --text-color-dark */
     overflow: hidden; /* Hide overflowing image */
     align-self: flex-end; /* Align avatar to the bottom of the bubble group */
     /* Added background gradient for the avatar border/ring */
     background: linear-gradient(45deg, var(--accent-color-start), var(--accent-color-end));
     padding: 2px; /* Create a ring effect */
     img {
          width: 100%;
          height: 100%;
          border-radius: 50%; /* Keep image round */
          object-fit: cover; /* Ensure image covers the area */
          /* Inner background to hide gradient in center */
          background-color: var(--primary-color);
     }
      i { /* Style for the default icon */
          font-size: 1.3em;
          color: var(--text-color); /* Changed from --text-color-dark */
          background-color: var(--primary-color); /* Match inner background */
          border-radius: 50%;
          width: 100%;
          height: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
      }
      body[data-theme="light"] & { /* Light theme avatar */
         background: var(--border-color); /* Solid border */
          i { background-color: var(--secondary-color); }
          img { background-color: var(--secondary-color); }
      }
}


/* Message Content Bubble */
.chat-message .message-content {
    padding: 12px 15px;
    border-radius: 18px;
    word-wrap: break-word;
    flex-grow: 1; /* Allow content to grow */
    min-width: 0; /* Allow content to shrink below its intrinsic size */
    font-size: 1em;
    line-height: 1.6;
    overflow: hidden; /* Prevent content overflow */
    p { margin-top: 0; margin-bottom: 1em; &:last-child { margin-bottom: 0; } } /* Basic paragraph spacing */
    pre { /* Code block styling */
        background-color: rgba(0, 0, 0, 0.3);
        padding: 10px;
        border-radius: 8px;
        overflow-x: auto; /* Horizontal scroll for code */
        font-size: 0.9em;
         code { font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; padding: 0; background: none; }
    }
    strong { color: var(--text-color); } /* Highlight strong text, changed from --text-color-light */

    body[data-theme="light"] & { /* Light theme styles */
        pre { background-color: #e9ecef; color: #495057; } /* Light code block */
        strong { color: var(--text-color); }
    }
}

/* New: Image within chat message content */
.chat-message .message-content .chat-image-content {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
    margin-bottom: 10px; /* Space between image and text */
    display: block; /* Ensure image is block level */
}

/* User message specific styles */
.chat-message.user {
    flex-direction: row; /* User avatar on the right */
    margin-left: auto; /* Push bubble and avatar to the right */
    
     .avatar { margin-right: 0; margin-left: 12px; } /* Adjust avatar margin */
     .message-content {
        background-color: var(--chat-user-bg);
        color: var(--text-color);
        border-bottom-right-radius: 4px; /* Flatten corner near avatar */
     }
     body[data-theme="light"] & .message-content {
         background-color: var(--chat-user-bg); /* Use light theme variable */
         color: var(--text-color);
     }
}

/* Bot message specific styles */
.chat-message.bot {
    flex-direction: row; /* Bot avatar on the left */
    margin-right: auto; /* Push bubble and avatar to the left */
     .avatar { margin-right: 12px; margin-left: 0; } /* Adjust avatar margin */
     .message-content {
        background: var(--chat-bot-bg);
        color: var(--text-color);
        border-bottom-left-radius: 4px; /* Flatten corner near avatar */
     }
     body[data-theme="light"] & .message-content {
         background: var(--chat-bot-bg); /* Use light theme variable (solid color) */
         color: var(--button-color); /* Use button color for text on solid background */
     }
}

/* Message Actions (Copy, Rerun, etc.) */
.message-actions {
    display: flex;
    align-items: center;
    gap: 5px;
    position: absolute;
     /* Positioning will depend on sender - adjusted by JS/class */
    bottom: -20px; /* Position below the bubble */
    background-color: var(--secondary-color); /* Background for actions */
    padding: 3px 8px;
    border-radius: 12px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    opacity: 0; /* Start hidden */
    transition: opacity 0.2s ease;
    pointer-events: none; /* Don't block clicks on bubble initially */
    z-index: 1; /* Above message bubble */
     body[data-theme="light"] & { /* Light theme styles */
         background-color: var(--surface-color);
         box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
     }
}

/* Show actions on hover over the message element */
.chat-message:hover .message-actions {
    opacity: 1;
    pointer-events: auto; /* Enable clicks when visible */
}
/* Also show on focus within the message content (for accessibility, e.g., tabbing inside code blocks) */
.chat-message:focus-within .message-actions {
     opacity: 1;
     pointer-events: auto;
}


/* Position actions based on sender */
.chat-message.user .message-actions {
    /* Position to the left of user bubble */
    left: 10px;
}

.chat-message.bot .message-actions {
    /* Position to the right of bot bubble */
    right: 10px;
}

.message-actions .icon-button {
    padding: 4px;
    font-size: 0.9em;
    color: var(--muted-text-color);
}
.message-actions .icon-button:hover {
    color: var(--text-color);
}
.message-actions .icon-button.like-btn.liked {
     color: var(--success-color); /* Color when liked */
}
.message-actions .icon-button.dislike-btn.disliked {
     color: var(--error-color); /* Color when disliked */
}


/* Typing Indicator */
.chat-message.bot.typing {
    /* Remove avatar and actions from typing state if they appear */
    .avatar, .message-actions { display: none; } /* Hide default avatar and actions */

    /* Restyle the bubble for the typing indicator */
    .message-content {
        /* Keep padding/border-radius from bot message */
         background: var(--chat-bot-bg); /* Use bot bubble background */
         animation: none; /* Remove pulsation if any */
         display: flex; /* Use flex to center the GIF */
         align-items: center;
         justify-content: center;
         padding: 8px 15px; /* Slightly less vertical padding maybe */
         width: 80px; /* Fixed width for typing indicator */
         height: 60px; /* Fixed height */
         overflow: hidden; /* Hide potential overflow */
         box-sizing: border-box; /* Include padding in size */
          /* Use a subtle background color or animation if no GIF */
          /* background-color: rgba(var(--accent-color-start-rgb, 74, 144, 226), 0.5); */
     }
     .message-content img {
        height: 100%; /* Make GIF fill the content box height */
        width: auto; /* Maintain aspect ratio */
        /* Optional: Add a subtle animation to the container if no GIF */
        /* @keyframes typing-dots { ... } */
     }
}

/* Message Edit Area (for user messages) */
.message-edit-area {
     display: flex;
     flex-direction: column;
     width: 100%;
     gap: 10px; /* Space between textarea and buttons */
     textarea {
         width: 100%;
         box-sizing: border-box;
         min-height: 50px;
         resize: vertical;
     }
     button {
         width: auto; /* Buttons size based on content */
         padding: 8px 15px;
         font-size: 0.9em;
     }
      /* Align buttons to the right */
     align-items: flex-end;

      /* Style for the cancel button */
     button:last-child {
         background: none;
         border: 1px solid var(--border-color);
         color: var(--text-color);
         box-shadow: none;
         &:hover {
             background-color: var(--border-color);
             opacity: 1;
         }
          body[data-theme="light"] & { /* Light theme cancel button */
             border-color: var(--muted-text-color);
             color: var(--muted-text-color);
              &:hover { background-color: var(--border-color); }
         }
     }
}


#chat-input-area {
    padding: 15px 20px;
    background-color: var(--secondary-color);
    border-top: 1px solid var(--border-color);
    display: flex;
    flex-direction: column; /* Changed to column for image preview */
    align-items: center;
    position: sticky; /* Keep input visible when scrolling messages */
    bottom: 0;
    z-index: 999; /* Above chat messages */
     body[data-theme="light"] & { /* Light theme styles */
         box-shadow: 0 -1px 2px rgba(0, 0, 0, 0.05);
     }
}

/* New: Freemium Message Display */
.freemium-message-display {
    width: 100%;
    background-color: var(--warning-color);
    color: var(--text-color); /* Assuming white text looks good on orange */
    padding: 10px 15px;
    border-radius: 8px;
    margin-bottom: 15px;
    text-align: center;
    font-size: 0.9em;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    i { color: var(--text-color); }
    .freemium-upgrade-link {
        color: var(--text-color);
        font-weight: 600;
        text-decoration: underline;
    }
}


/* New: Input Wrapper (now contains image, text, voice, send buttons) */
#text-input-wrapper { /* Renamed from #image-upload-area */
    width: 100%;
    display: flex;
    align-items: center;
    background-color: var(--input-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding-right: 8px; /* Space for send button */
     body[data-theme="light"] & { /* Light theme styles */
         background-color: var(--input-bg);
         border-color: var(--border-color);
     }
     /* New: Style for the image upload button itself */
     #image-upload-btn {
         background: none; /* Make it look like a regular icon button */
         border: none;
         color: var(--muted-text-color);
         padding: 8px;
         font-size: 1.3em;
         transition: color 0.3s ease;
     }
     #image-upload-btn:hover:not(:disabled) {
         color: var(--accent-color-start);
     }
}

#message-input {
    flex-grow: 1;
    border: none; /* Remove input border */
    outline: none;
    padding: 12px;
    font-size: 1em;
    background: none; /* Make background transparent */
    resize: none; /* Disable manual resize */
    max-height: 150px; /* Limit input height */
    overflow-y: auto; /* Allow scrolling if text exceeds height */
    font-family: 'Poppins', sans-serif; /* Ensure font is applied */
    color: var(--text-color); /* Ensure text color matches theme */
}

#send-btn {
    background: none;
    border: none;
    color: var(--muted-text-color);
    font-size: 1.5em;
    cursor: pointer;
    padding: 8px;
    transition: color 0.3s ease;
}
#send-btn:hover:not(:disabled) {
    color: var(--accent-color-start);
}
#send-btn:disabled {
    color: var(--border-color);
    cursor: not-allowed;
}

/* New: Voice Input Button Styling */
#voice-input-btn {
    background: none;
    border: none;
    color: var(--muted-text-color);
    padding: 8px;
    font-size: 1.3em;
    cursor: pointer;
    transition: color 0.3s ease;
}
#voice-input-btn:hover:not(:disabled) {
    color: var(--accent-color-start);
}
#voice-input-btn:disabled {
    color: var(--border-color);
    cursor: not-allowed;
}
#voice-input-btn.listening {
    color: var(--error-color); /* Red color when listening */
    animation: pulse 1.5s infinite;
}
@keyframes pulse {
    0% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.1); opacity: 0.7; }
    100% { transform: scale(1); opacity: 1; }
}


/* New: Image Preview Area below input */
.image-preview-area {
    width: 100%;
    max-width: 600px; /* Limit width */
    position: relative;
    margin-top: 15px;
    border: 1px dashed var(--border-color);
    border-radius: 8px;
    padding: 10px;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: var(--input-bg);
    box-sizing: border-box;
}
.image-preview-area img {
    max-width: 100%;
    max-height: 150px;
    border-radius: 6px;
    object-fit: contain;
}
.image-preview-area .clear-image-btn {
    position: absolute;
    top: 5px;
    right: 5px;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    padding: 2px 5px;
    border-radius: 50%;
    font-size: 0.9em;
}
.image-preview-area .clear-image-btn:hover {
    background: var(--error-color);
    color: white;
}
/* New: Styling for image upload button within edit area */
.message-edit-area .upload-button-in-edit {
    width: fit-content;
    padding: 6px 10px;
    font-size: 0.85em;
    margin-top: 10px;
    background: var(--secondary-color);
    border: 1px solid var(--border-color);
    color: var(--text-color);
    box-shadow: none;
}
.message-edit-area .upload-button-in-edit:hover {
    background-color: var(--border-color);
    opacity: 1;
}
/* New: Styling for image preview in edit mode */
.image-preview-area.edit-mode {
    margin-top: 0; /* No extra margin when inside edit area */
    margin-bottom: 10px;
}
.image-preview-area.edit-mode .clear-image-btn {
    font-size: 1em; /* Slightly larger clear button for clarity */
}



/* --- Admin Panel Page --- */
.admin-box { /* Extends auth-box / api-box styles */
    max-width: 700px;
    padding: 40px;
    margin: 40px auto;
}
.admin-box h1 {
    font-size: 2em;
    margin-bottom: 20px;
}
.admin-box h2 {
    text-align: left;
    margin-top: 30px;
    margin-bottom: 15px;
    font-size: 1.4em;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 10px;
}
.admin-box .form-group {
    margin-bottom: 20px;
}
.admin-box .form-group input {
    width: 100%;
}
.admin-box .setting-item { /* Reuse sidebar setting item style */
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    font-size: 1em;
    padding: 10px 0;
    border-bottom: 1px dashed var(--border-color);
}
.admin-box .setting-item:last-of-type {
    border-bottom: none;
    margin-bottom: 0;
}
.admin-box .setting-item label {
    display: flex;
    align-items: center;
    color: var(--muted-text-color);
    font-weight: 400;
}
.admin-box .setting-item i {
    margin-right: 10px;
    color: var(--muted-text-color);
}
.admin-box button {
    width: 100%;
    margin-top: 30px;
}
.admin-box .back-link {
    margin-top: 20px;
}

/* New: Admin Stats and Chart */
.admin-stats {
    display: flex;
    justify-content: space-around;
    gap: 15px;
    margin-bottom: 30px;
    flex-wrap: wrap; /* Allow wrapping on smaller screens */
}
.admin-stats .stat-item {
    background-color: var(--input-bg);
    padding: 20px;
    border-radius: 8px;
    text-align: center;
    flex: 1; /* Distribute space evenly */
    min-width: 150px; /* Minimum width before wrapping */
     body[data-theme="light"] & {
         background-color: var(--input-bg);
     }
}
.admin-stats .stat-item h3 {
    font-size: 1.1em;
    color: var(--muted-text-color);
    margin-bottom: 10px;
}
.admin-stats .stat-item p {
    font-size: 1.8em;
    font-weight: 600;
    margin: 0;
    color: var(--accent-color-start);
    text-align: center; /* Override default text-align */
}

.chart-container {
    width: 100%;
    max-width: 500px; /* Limit chart width */
    margin: 20px auto;
    background-color: var(--input-bg); /* Chart background */
    padding: 20px;
    border-radius: 8px;
     body[data-theme="light"] & {
         background-color: var(--input-bg);
     }
}
.chart-container canvas {
    max-height: 300px; /* Limit chart height */
}


/* --- Profile Page Specifics --- */
.profile-box {
    background-color: var(--secondary-color);
    padding: 40px;
    border-radius: 12px;
    width: 100%;
    max-width: 600px;
    margin: 40px auto;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
     body[data-theme="light"] & {
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
     }
}

.profile-box h1 {
    text-align: center;
    margin-bottom: 10px;
    font-size: 1.8em;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-weight: 600;
}
.profile-box p {
    text-align: center;
    margin-bottom: 30px;
    color: var(--muted-text-color);
    font-size: 1em;
}

.profile-box .form-group input {
    width: 100%;
}

.profile-box button {
    width: 100%;
    margin-top: 10px;
}

.profile-box .back-link {
    display: block;
    text-align: center;
    margin-top: 20px;
    color: var(--muted-text-color);
    padding: 10px;
    border-radius: 8px;
     transition: background-color 0.3s ease, color 0.3s ease;
     i { margin-right: 8px; }
}
.profile-box .back-link:hover {
    background-color: var(--border-color);
    color: var(--text-color);
    text-decoration: none;
}

.profile-box .profile-info {
     display: flex;
     align-items: center;
     gap: 20px;
     margin-bottom: 30px;
     padding-bottom: 30px;
     border-bottom: 1px solid var(--border-color);
}
.profile-box .profile-avatar {
     width: 80px;
     height: 80px;
     border-radius: 50%;
     background-color: var(--border-color);
     display: flex;
     align-items: center;
     justify-content: center;
     font-size: 2em;
     color: var(--text-color);
     flex-shrink: 0;
     overflow: hidden;
     background: linear-gradient(45deg, var(--accent-color-start), var(--accent-color-end));
     padding: 3px;
}
.profile-box .profile-avatar img {
     width: 100%;
     height: 100%;
     border-radius: 50%;
     object-fit: cover;
      background-color: var(--secondary-color);
}
.profile-box .profile-avatar i {
     font-size: 2em;
     color: var(--text-color);
     background-color: var(--secondary-color);
     border-radius: 50%;
     width: 100%;
     height: 100%;
     display: flex;
     align-items: center;
     justify-content: center;
}
 body[data-theme="light"] .profile-box .profile-avatar {
     background: var(--border-color);
      i, img { background-color: var(--surface-color); }
 }


.profile-box .profile-details-text {
     flex-grow: 1;
}
.profile-box .profile-details-text h2 {
     margin: 0 0 5px 0;
     font-size: 1.5em;
     font-weight: 600;
}
.profile-box .profile-details-text p {
     margin: 0;
     color: var(--muted-text-color);
     font-size: 1em;
     text-align: left;
}

.profile-box .settings-section {
     margin-bottom: 30px;
     padding-bottom: 30px;
     border-bottom: 1px solid var(--border-color);
}
.profile-box .settings-section:last-of-type {
    border-bottom: none;
    padding-bottom: 0;
    margin-bottom: 0;
}
.profile-box .settings-section h2 {
     font-size: 1.4em;
     margin-bottom: 20px;
     text-align: center;
     font-weight: 600;
}
.profile-box .settings-section .setting-item { /* Reuse sidebar setting item style for consistency */
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
    font-size: 0.95em;
    padding: 5px 0;
}
.profile-box .settings-section .setting-item label {
    display: flex;
    align-items: center;
    color: var(--muted-text-color);
    font-weight: 400; /* Less bold than labels in form groups */
}
.profile-box .settings-section .setting-item i {
     margin-right: 8px;
     color: var(--muted-text-color);
}
.profile-box .settings-section .setting-item .settings-link {
    font-size: 1em; /* Match parent font size */
     padding: 0; /* Remove padding from link if inside setting-item */
     background: none;
}
.profile-box .settings-section .setting-item .settings-link:hover {
     background: none;
}
.profile-box .settings-section .setting-item .current-plan-btn {
    background: var(--border-color);
    color: var(--muted-text-color);
    padding: 6px 10px;
    font-size: 0.8em;
    cursor: default;
    opacity: 1;
    &:hover { opacity: 1; }
}


.profile-box .other-actions button {
    margin-bottom: 15px;
    background: var(--secondary-color);
    border: 1px solid var(--border-color);
    color: var(--text-color);
    box-shadow: none;
     body[data-theme="light"] & {
         background: var(--surface-color);
         border-color: var(--border-color);
         color: var(--text-color);
     }
}
.profile-box .other-actions button:hover {
    background-color: var(--border-color);
    opacity: 1;
}


/* --- Modal Styles (For Tutorial) --- */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    backdrop-filter: blur(5px);
}

.modal-content {
    background-color: var(--secondary-color);
    padding: 30px;
    border-radius: 12px;
    max-width: 700px;
    width: 90%;
    position: relative;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
     body[data-theme="light"] & {
         box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
     }
}

.modal-close-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    background: none;
    border: none;
    color: var(--muted-text-color);
    font-size: 1.5em;
    cursor: pointer;
    padding: 5px;
}
.modal-close-btn:hover {
    color: var(--text-color);
}

.modal-content h2 {
    margin-top: 0;
    margin-bottom: 20px;
    text-align: center;
    font-weight: 600;
}

.video-container {
    position: relative;
    width: 100%;
    padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
    height: 0;
    overflow: hidden;
    background-color: black;
    border-radius: 8px;
}

.video-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none;
}


/* New: Pricing Page Styles */
.pricing-page {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 20px;
    box-sizing: border-box;
    flex-direction: column; /* Center content vertically */
}
.pricing-container {
    background-color: var(--secondary-color);
    padding: 40px;
    border-radius: 12px;
    width: 100%;
    max-width: 900px;
    text-align: center;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
     body[data-theme="light"] & {
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
     }
}
.pricing-container h1 {
    font-size: 2.2em;
    margin-bottom: 10px;
}
.pricing-container .tagline {
    font-size: 1.1em;
    color: var(--muted-text-color);
    margin-bottom: 40px;
}
.pricing-cards {
    display: flex;
    justify-content: center;
    gap: 30px;
    flex-wrap: wrap; /* Allow cards to wrap on smaller screens */
}
.pricing-card {
    background-color: var(--input-bg); /* Use input background for cards */
    padding: 30px;
    border-radius: 12px;
    flex: 1; /* Allow cards to grow and shrink */
    min-width: 300px; /* Minimum width for each card */
    max-width: 40%; /* Maximum width for two-column layout */
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* Push button to bottom */
    position: relative;
    border: 2px solid transparent; /* Default border */
    transition: all 0.3s ease;
     body[data-theme="light"] & {
         background-color: var(--input-bg);
     }
}
.pricing-card.active {
    border-color: var(--accent-color-start); /* Highlight active plan */
    box-shadow: 0 0 15px rgba(var(--accent-color-start-rgb), 0.5);
}
.pricing-card .badge {
    position: absolute;
    top: -15px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--accent-color-end);
    color: white;
    padding: 5px 15px;
    border-radius: 20px;
    font-size: 0.8em;
    font-weight: 600;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}
.pricing-card h2 {
    font-size: 1.8em;
    margin-bottom: 15px;
}
.pricing-card .price {
    font-size: 2.5em;
    font-weight: 700;
    color: var(--accent-color-start);
    margin-bottom: 25px;
}
.pricing-card .features {
    list-style: none;
    padding: 0;
    margin-bottom: 30px;
    text-align: left;
    flex-grow: 1; /* Make feature list grow */
}
.pricing-card .features li {
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    color: var(--muted-text-color);
}
.pricing-card .features li i {
    margin-right: 10px;
    font-size: 1.2em;
}
.pricing-card .features li .fa-check-circle { color: var(--success-color); }
.pricing-card .features li .fa-times-circle { color: var(--error-color); }
.pricing-card .subscribe-btn {
    width: 100%;
    margin-top: 20px; /* Space between features and button */
}
.pricing-card .current-plan-btn {
    width: 100%;
    margin-top: 20px;
    background: var(--border-color); /* Muted color for current plan */
    color: var(--muted-text-color);
    cursor: default;
    opacity: 1;
    &:hover { opacity: 1; }
}


/* --- Responsive Adjustments --- */
@media (max-width: 768px) {
    /* Global */
    h1 { font-size: 1.5em; }
    h2 { font-size: 1.3em; }
    h3 { font-size: 1.1em; }
    button { padding: 10px 15px; font-size: 0.9em; }
    .icon-button { font-size: 1em; }
    input, textarea { padding: 10px; font-size: 0.9em; }
    .form-group label { font-size: 0.9em; }
    .help-text { font-size: 0.8em; }
    .message-text { font-size: 0.85em; }
    .divider { font-size: 0.85em; }


    /* Auth/API/Profile Boxes */
    .auth-box, .profile-box, .admin-box, .pricing-container { /* Include pricing container */
        padding: 30px 20px;
        margin: 20px auto;
    }
    .auth-box h1, .profile-box h1, .admin-box h1, .pricing-container h1 {
        font-size: 1.5em;
        gap: 5px;
    }
     .auth-box p, .profile-box p, .admin-box p, .pricing-container .tagline {
         font-size: 0.9em;
     }
    #google-signin-btn { font-size: 0.9em; }


    /* Sidebar */
    #sidebar {
        width: 250px;
        transform: translateX(-250px);
        padding: 15px;
    }
    #main-app.sidebar-active #chat-container {
        margin-left: 0;
        width: 100%;
    }
    #main-app.sidebar-active::after {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 900;
         @media (max-width: 768px) { display: block; }
         @media (min-width: 769px) { display: none; }
    }


    .sidebar-header h2 { font-size: 1.2em; }
    #sidebar-close-btn { font-size: 1.3em; }
    #new-chat-btn { font-size: 0.9em; padding: 10px 15px; }
    .chat-history h3 { font-size: 1em; }
    #chat-history-list li a { font-size: 0.9em; padding: 8px 10px; }
     .chat-history-item-actions {
         background-color: transparent;
         box-shadow: none;
     }
     .chat-history-item-actions .icon-button {
          font-size: 0.8em;
          padding: 3px;
          color: var(--muted-text-color);
     }
      .chat-history-item-actions .icon-button:hover {
           color: var(--accent-color-start);
      }
    .sidebar-footer .setting-item, .sidebar-footer .settings-link { font-size: 0.9em; }
     .sidebar-footer .setting-item i, .sidebar-footer .settings-link i { font-size: 1em; margin-right: 5px; }
     .user-profile { font-size: 0.85em; }
    #logout-btn { font-size: 1em; }
    #upgrade-to-premium-sidebar-link { font-size: 0.9em; padding: 8px; }


    /* Chat Header */
     #chat-header {
         padding: 12px 15px;
     }
    #sidebar-toggle-btn {
        font-size: 1.3em;
        margin-right: 10px;
    }
    #chat-header h1 {
        font-size: 1.1em;
    }


    /* Chat Messages */
     #chat-messages {
        padding: 15px;
        gap: 15px;
        padding-bottom: 50px;
     }
     .chat-message {
         max-width: 100%;
     }
     .chat-message .avatar {
         width: 30px;
         height: 30px;
         font-size: 1.1em;
          img, i { font-size: 1.1em;}
     }
     .chat-message.bot .avatar { margin-right: 8px; }
     .chat-message.user .avatar { margin-left: 8px; }

     .chat-message .message-content {
         padding: 10px 12px;
         font-size: 0.95em;
         max-width: calc(100% - 46px);
     }
      .chat-message .message-content pre { font-size: 0.85em; }

    /* Mobile Message Actions */
    .message-actions {
        bottom: -25px;
        padding: 2px 6px;
        gap: 3px;
    }
     .chat-message.user .message-actions { left: 5px; }
     .chat-message.bot .message-actions { right: 5px; }
     .message-actions .icon-button {
         font-size: 0.8em;
         padding: 3px;
     }

     /* Typing indicator mobile size */
     .chat-message.bot.typing .message-content {
          width: 40px;
          height: 24px;
          padding: 6px 10px;
     }


    /* Message Edit Area */
    .message-edit-area {
        gap: 8px;
         textarea {
             padding: 8px;
             font-size: 0.9em;
         }
         button {
              padding: 6px 12px;
              font-size: 0.85em;
         }
    }


    /* Input Area */
    #chat-input-area {
        padding: 10px 15px;
    }
    #text-input-wrapper { /* Renamed */
        padding-right: 5px;
    }
    #message-input {
        padding: 10px;
         font-size: 0.9em;
    }
    #send-btn {
        font-size: 1.3em;
        padding: 6px;
    }
    #voice-input-btn {
        font-size: 1.3em;
        padding: 6px;
    }
    /* Image preview mobile */
    .image-preview-area {
        margin-top: 10px;
        padding: 8px;
        max-width: calc(100% - 30px);
    }
    .image-preview-area img {
        max-height: 100px;
    }
    .freemium-message-display {
        font-size: 0.8em;
        padding: 8px 10px;
    }

    /* Profile Page Specifics */
    .profile-box .profile-info {
        flex-direction: column;
        text-align: center;
        gap: 15px;
    }
     .profile-box .profile-avatar {
         width: 60px;
         height: 60px;
          font-size: 1.5em;
         i, img { font-size: 1.5em; }
          padding: 2px;
     }
     .profile-box .profile-details-text h2,
     .profile-box .profile-details-text p {
         text-align: center;
     }
     .profile-box .profile-details-text h2 { font-size: 1.3em; }
     .profile-box .profile-details-text p { font-size: 0.9em; }
    .profile-box .settings-section h2 { font-size: 1.2em; }
     .profile-box .other-actions button { font-size: 0.9em; padding: 10px 15px; }

    /* Pricing Page Specifics */
    .pricing-cards {
        flex-direction: column;
        align-items: center;
    }
    .pricing-card {
        max-width: 90%;
        min-width: unset;
    }
    .pricing-card h2 { font-size: 1.5em; }
    .pricing-card .price { font-size: 2em; }
    .pricing-card .features li { font-size: 0.9em; }

    /* Admin Page Specifics */
    .admin-box h2 { font-size: 1.2em; }
    .admin-stats .stat-item {
        min-width: 100%;
    }
    .admin-stats .stat-item h3 { font-size: 1em; }
    .admin-stats .stat-item p { font-size: 1.5em; }
    .chart-container {
        padding: 10px;
    }
    .chart-container canvas {
        max-height: 200px;
    }
}

/* Larger screens / non-mobile adjustments if needed */
@media (min-width: 769px) {
    /* Ensure main content is pushed when sidebar is open */
     #main-app.sidebar-active #chat-container {
         margin-left: 280px;
         width: calc(100% - 280px);
     }
      /* Hide the mobile overlay */
     #main-app::after { display: none !important; }
}

/* Add these styles to your style.css */

/* Style for the container around code blocks */
.code-block-container {
    position: relative;
    margin: 1em 0;
    background-color: rgba(0, 0, 0, 0.3);
    padding: 10px;
    border-radius: 8px;
    overflow-x: auto;
     body[data-theme="light"] & { background-color: #e9ecef; }
}

.code-block-container .code-lang {
    position: absolute;
    top: 5px;
    left: 10px;
    font-size: 0.8em;
    color: rgba(255, 255, 255, 0.5);
    z-index: 2;
     body[data-theme="light"] & { color: rgba(0, 0, 0, 0.5); }
}

.copy-code-btn {
    position: absolute;
    top: 5px;
    right: 5px;
    background: rgba(255, 255, 255, 0.1);
    color: var(--text-color);
    padding: 4px 8px;
    font-size: 0.8em;
    border-radius: 4px;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.2s ease, background-color 0.2s ease;
    z-index: 2;
     width: auto; gap: 0; font-weight: normal;
     body[data-theme="light"] & { background: rgba(0, 0, 0, 0.05); color: var(--muted-text-color); }
}

.code-block-container:hover .copy-code-btn { opacity: 1; }
.copy-code-btn:hover {
    background-color: rgba(255, 255, 255, 0.2);
    color: var(--text-color);
    opacity: 1;
     body[data-theme="light"] & { background-color: rgba(0, 0, 0, 0.1); color: var(--text-color); }
}

.copy-code-btn i { margin: 0; font-size: 1em; }

.code-block-container pre {
    margin: 0;
    padding-top: 25px;
    background: none;
    overflow-x: auto;
}
.code-block-container code { padding: 0; background: none; }